package com.cos.util;

import java.util.List;

import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;

import com.cos.model.Board;

public class Utils {

		
	//미리보기 내용을 세팅하기
	public static void setPreviewContent(List<Board> boards) {
		
		
		for(Board board : boards) {
			
			Document doc = Jsoup.parse(board.getContent());	//원하는 String을 HTML 형식으로 문서화
			Elements ets = doc.select("img");
			
			if(ets!=null) {
				for (Element et : ets) {
					et.remove();
				}
			}
			board.setContent(doc.toString());
		}

	}
	
	
	//미리보기 이미지 세팅하기
	
	public static void setPreviewImg(List<Board> boards) {
		
		for (Board board : boards) {
			
			Document doc = Jsoup.parse(board.getContent());
			Element et = doc.selectFirst("img");
			
			if(et!=null) {
				String previewImg = et.attr("src");
				System.out.println("Util : previewImg : " + previewImg);
				board.setPreviewImg(previewImg);
			}else {
				board.setPreviewImg("/blog/img/home-blog/blog-1.jpg");
			}
		}
		
		
	}
	
}
